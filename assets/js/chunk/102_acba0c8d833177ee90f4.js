"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[102],{"58028":function(t,n,a){a.r(n),a.d(n,{"taro_textarea_core":function(){return c}});var i=a(9521),o=a.n(i),l=a(57961),h=a.n(l),r=a(45932),u=a.n(r),s=a(47109);function fixControlledValue(t){return null!=t?t:""}var c=function(){function e(t){var n=this;(0,s.r)(this,t),this.onInput=(0,s.c)(this,"input",7),this.onFocus=(0,s.c)(this,"focus",7),this.onBlur=(0,s.c)(this,"blur",7),this.onChange=(0,s.c)(this,"change",7),this.onLineChange=(0,s.c)(this,"linechange",7),this.disabled=!1,this.maxlength=140,this.autoFocus=!1,this.autoHeight=!1,this.nativeProps={},this.line=1,this.handleInput=function(t){t.stopPropagation(),n.handleLineChange(),n.onInput.emit({"value":t.target.value,"cursor":t.target.value.length})},this.handleFocus=function(t){n.onFocus.emit({"value":t.target.value})},this.handleBlur=function(t){n.onBlur.emit({"value":t.target.value})},this.handleChange=function(t){t.stopPropagation(),n.onChange.emit({"value":t.target.value})},this.handleLineChange=function(){var t=n.getNumberOfLines();t!==n.line&&(n.line=t,n.onLineChange.emit({"height":n.textareaRef.clientHeight,"lineCount":n.line}))},this.calculateContentHeight=function(t,n){var a=t.style.height,i=t.offsetHeight,o=t.scrollHeight,l=t.style.overflow,h=t.style.minHeight||null;if(!(i>=o))return o;if(t.style.minHeight=0,t.style.height=i+n+"px",t.style.overflow="hidden",o<t.scrollHeight){for(;t.offsetHeight>=t.scrollHeight;)t.style.height=(i-=n)+"px";for(;t.offsetHeight<t.scrollHeight;)t.style.height=i+++"px";return t.style.height=a,t.style.overflow=l,t.style.minHeight=h,i}},this.getNumberOfLines=function(){var t=n.textareaRef,a=window.getComputedStyle?window.getComputedStyle(t):t.style,i=o()(a.lineHeight,10),l=n.calculateContentHeight(t,i);return Math.floor(l/i)}}return e.prototype.componentDidLoad=function(){var t=this;h()(this.el,"value",{"get":function get(){return t.textareaRef.value},"set":function set(n){return t.value=n},"configurable":!0}),this.autoFocus&&this.textareaRef.focus()},e.prototype.render=function(){var t=this,n=this,a=n.value,i=n.placeholder,o=n.disabled,l=n.maxlength,h=n.autoFocus,r=n.autoHeight,c=n.name,g=n.nativeProps,f=n.handleInput,p=n.handleFocus,d=n.handleBlur,v=n.handleChange,x={};return r&&(x.rows=this.line),(0,s.h)("textarea",u()({"ref":function ref(n){n&&(t.textareaRef=n)},"class":"taro-textarea "+(r?"auto-height":""),"value":fixControlledValue(a),"placeholder":i,"name":c,"disabled":o,"maxlength":l,"autofocus":h,"onInput":f,"onFocus":p,"onBlur":d,"onChange":v},g,x))},h()(e.prototype,"el",{"get":function get(){return(0,s.g)(this)},"enumerable":!1,"configurable":!0}),e}();c.style="taro-textarea-core{display:block;width:300px}taro-textarea-core .auto-height{height:auto}.taro-textarea{display:block;position:relative;border:0;width:100%;height:150px;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:auto;line-height:1.5}.taro-textarea:focus{outline:none}"}}]);