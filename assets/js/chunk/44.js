(window.webpackJsonp=window.webpackJsonp||[]).push([[44,3],{"525":function(e,t,n){"use strict";n.d(t,"e",(function(){return isPlainObject})),n.d(t,"f",(function(){return isPromise})),n.d(t,"b",(function(){return isDef})),n.d(t,"d",(function(){return isObj})),n.d(t,"a",(function(){return isBoolean})),n.d(t,"c",(function(){return isImageUrl})),n.d(t,"g",(function(){return isVideoUrl}));var i=n(171),a=n.n(i);function isFunction(e){return"function"==typeof e}function isPlainObject(e){return null!==e&&"object"===a()(e)&&!Array.isArray(e)}function isPromise(e){return isPlainObject(e)&&isFunction(e.then)&&isFunction(e.catch)}function isDef(e){return null!=e}function isObj(e){var t=a()(e);return null!==e&&("object"===t||"function"===t)}function isBoolean(e){return"boolean"==typeof e}var c=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,l=/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv)/i;function isImageUrl(e){return c.test(e)}function isVideoUrl(e){return l.test(e)}},"528":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(37),a=n(38),c=n(65),l=n(64),r=n(518),o=n(63),s=(n(529),n(108)),u=function(e){Object(c.a)(Index,e);var t=Object(l.a)(Index);function Index(){return Object(i.a)(this,Index),t.call(this)}return Object(a.a)(Index,[{"key":"render","value":function render(){var e=this.props,t=e.padding,n=e.title,i=e.card;return Object(s.jsxs)(r.n,{"className":"custom-class demo-block van-clearfix "+(t?"demo-block--padding":""),"children":[n&&Object(s.jsx)(r.n,{"className":"demo-block__title","children":n}),i?Object(s.jsx)(r.n,{"className":"demo-block__card","children":this.props.children}):this.props.children]})}}]),Index}(o.Component)},"529":function(e,t,n){},"531":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Page}));n(564);var i=n(527),a=n(518),c=n(87),l=n(578),r=n(75),o=n(63),s=(n(538),n(108));function Page(t){var n=t.title,u=t.className,d=void 0===u?"":u,f=t.children,p=c.a.useRouter().path;return Object(o.useEffect)((function(){"react"===e.env.LIBRARY_ENV?document.body.scrollTop=document.documentElement.scrollTop=0:Object(l.a)({"scrollTop":0})}),[p]),c.a.useShareAppMessage((function(){return{"title":"AntM 组件库演示","path":p}})),Object(s.jsxs)(a.n,{"className":"demo-page ".concat(d),"children":[Object(s.jsxs)(a.n,{"className":"demo-nav","children":[Object(s.jsx)(i.b,{"name":"arrow-left","className":"demo-nav__back","onClick":function onClick(){return Object(r.d)()}}),Object(s.jsxs)(a.n,{"className":"demo-nav__title","children":[n," "]})]}),f]})}}).call(this,n(227))},"538":function(e,t,n){},"539":function(e,t,n){"use strict";n.d(t,"g",(function(){return range})),n.d(t,"d",(function(){return getSystemInfoSync})),n.d(t,"a",(function(){return addUnit})),n.d(t,"h",(function(){return requestAnimationFrame})),n.d(t,"f",(function(){return pickExclude})),n.d(t,"c",(function(){return getRect})),n.d(t,"b",(function(){return getAllRect})),n.d(t,"i",(function(){return toPromise}));var i,a=n(139),c=n.n(a),l=n(22),r=n.n(l),o=n(15),s=n.n(o),u=n(5),d=n.n(u),f=(n(517),n(835)),p=(n(838),n(87)),b=n(886),m=(n(75),n(525));n(544);function range(e,t,n){return Math.min(Math.max(e,t),n)}function getSystemInfoSync(){return null==i&&(i=Object(f.a)()),i}function addUnit(e){if(Object(m.b)(e))return/^-?\d+(\.\d+)?$/.test(""+e)?p.a.pxTransform(e):e}function requestAnimationFrame(e){return"devtools"===getSystemInfoSync().platform?setTimeout((function(){e()}),33.333333333333336):Object(b.a)().selectViewport().boundingClientRect().exec((function(){e()}))}function pickExclude(e,t){var n;return Object(m.e)(e)?c()(n=r()(e)).call(n,(function(n,i){return s()(t).call(t,i)||(n[i]=e[i]),n}),{}):{}}function getRect(e,t){return new d.a((function(n){var i=Object(b.a)();e&&(i=i.in(e)),i.select(t).boundingClientRect().exec((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(e[0])}))}))}function getAllRect(e,t){return new d.a((function(n){var i=Object(b.a)();e&&(i=i.in(e)),i.selectAll(t).boundingClientRect().exec((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(e[0])}))}))}function toPromise(e){return Object(m.f)(e)?e:d.a.resolve(e)}n.d(t,"e",(function(){return m.b}))},"543":function(e,t,n){},"544":function(e,t,n){"use strict";n.d(t,"a",(function(){return canIUseModel})),n.d(t,"b",(function(){return canIUseNextTick}));var i,a=n(110),c=n.n(a),l=n(835),r=n(836);n(837);function gte(e){return function compareVersion(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var i=0;i<n;i++){var a=c()(e[i],10),l=c()(t[i],10);if(a>l)return 1;if(a<l)return-1}return 0}(function getSystemInfoSync(){return null==i&&(i=Object(l.a)()),i}().SDKVersion,e)>=0}function canIUseModel(){return gte("2.9.3")}function canIUseNextTick(){return Object(r.a)("nextTick")}},"568":function(e,t,n){"use strict";n.d(t,"a",(function(){return Loading}));var i=n(109),a=n.n(i),c=n(52),l=n.n(c),r=n(522),o=n.n(r),s=n(526),u=n.n(s),d=n(523),f=n.n(d),p=n(536),b=n.n(p),m=n(9),j=n.n(m),v=n(22),h=n.n(v),g=n(520),O=n.n(g),x=n(30),y=n.n(x),w=n(519),_=n.n(w),k=n(26),C=n.n(k),F=n(169),I=n.n(F),S=n(518),P=n(63),z=n(521),N=n(534);function textStyle(e){return Object(z.c)({"font-size":Object(N.a)(e.textSize)})}var L=n(108),R=["vertical","type","color","size","textSize","className","children","style"];function ownKeys(e,t){var n=h()(e);if(O.a){var i=O()(e);t&&(i=y()(i).call(i,(function(t){return _()(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)C()(n=ownKeys(Object(i),!0)).call(n,(function(t){o()(e,t,i[t])}));else if(I.a)a()(e,I()(i));else{var c;C()(c=ownKeys(Object(i))).call(c,(function(t){l()(e,t,_()(i,t))}))}}return e}function Loading(e){var t,n=e.vertical,i=e.type,a=void 0===i?"circular":i,c=e.color,l=e.size,r=e.textSize,o=e.className,s=e.children,d=e.style,p=f()(e,R),m=Object(P.useState)(b()({"length":12})),v=u()(m,1)[0];return Object(L.jsxs)(S.n,_objectSpread(_objectSpread({"className":" "+z.b("loading",{"vertical":n})+" "+o,"style":z.c([d])},p),{},{"children":[Object(L.jsx)(S.n,{"className":"van-loading__spinner van-loading__spinner--"+a,"style":(t={"color":c,"size":l},Object(z.c)({"color":t.color,"width":Object(N.a)(t.size),"height":Object(N.a)(t.size)})),"children":"spinner"===a&&Object(L.jsx)(S.a,{"children":j()(v).call(v,(function(e,t){return Object(L.jsx)(S.n,{"className":"van-loading__dot"},"van-loading__dot_".concat(t))}))})}),Object(L.jsx)(S.n,{"className":"van-loading__text","style":textStyle({"textSize":r}),"children":s})]}))}t.b=Loading},"569":function(e,t,n){"use strict";n(524),n(543),n(530),n(532),n(573)},"572":function(e,t,n){"use strict";n.d(t,"a",(function(){return Button}));var i=n(109),a=n.n(i),c=n(52),l=n.n(c),r=n(22),o=n.n(r),s=n(520),u=n.n(s),d=n(30),f=n.n(d),p=n(519),b=n.n(p),m=n(26),j=n.n(m),v=n(169),h=n.n(v),g=n(522),O=n.n(g),x=n(523),y=n.n(x),w=n(87),_=n(518),k=n(521),C=n(527),F=n(568),I=n(27),S=n.n(I),P=n(537);function rootStyle(e){var t;if(!e.color)return"";var n={"color":e.plain?e.color:"#fff","background":e.plain?null:e.color};return-1!==S()(t=e.color).call(t,"gradient")?n.border=0:n["border-color"]=e.color,Object(P.a)([n])}var z=n(108),N=["type","size","block","round","plain","square","loading","disabled","hairline","color","loadingSize","loadingType","loadingText","icon","classPrefix","onClick","children","style","className"];function ownKeys(e,t){var n=o()(e);if(u.a){var i=u()(e);t&&(i=f()(i).call(i,(function(t){return b()(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)j()(n=ownKeys(Object(i),!0)).call(n,(function(t){O()(e,t,i[t])}));else if(h.a)a()(e,h()(i));else{var c;j()(c=ownKeys(Object(i))).call(c,(function(t){l()(e,t,b()(i,t))}))}}return e}function Button(e){var t,n=e.type,i=void 0===n?"default":n,a=e.size,c=void 0===a?"normal":a,l=e.block,r=e.round,o=e.plain,s=e.square,u=e.loading,d=e.disabled,f=e.hairline,p=e.color,b=e.loadingSize,m=void 0===b?w.a.pxTransform(40):b,j=e.loadingType,v=void 0===j?"circular":j,h=e.loadingText,g=e.icon,O=e.classPrefix,x=void 0===O?"van-icon":O,I=e.onClick,S=e.children,P=e.style,L=e.className,R=y()(e,N);return Object(z.jsx)(_.b,_objectSpread(_objectSpread({"className":" "+k.b("button",[i,c,{"block":l,"round":r,"plain":o,"square":s,"loading":u,"disabled":d,"hairline":f,"unclickable":d||u}])+" "+(f?"van-hairline--surround":"")+" ".concat(L||""),"hoverClass":"van-button--active hover-class","style":k.c([rootStyle({"plain":o,"color":p}),P]),"onClick":d||u?void 0:I},R),{},{"children":u?Object(z.jsxs)(_.n,{"style":"display: flex","children":[Object(z.jsx)(F.a,{"className":"loading-class","size":m,"type":v,"color":(t={"type":i,"color":p,"plain":o},t.plain?t.color?t.color:"#c9c9c9":"default"===t.type?"#c9c9c9":"#fff")}),h&&Object(z.jsx)(_.n,{"className":"van-button__loading-text","children":h})]}):Object(z.jsxs)(_.a,{"children":[g&&Object(z.jsx)(C.a,{"size":"1.2em","name":g,"classPrefix":x,"className":"van-button__icon","style":"line-height: inherit;"}),Object(z.jsx)(_.n,{"className":"van-button__text","children":S})]})}))}t.b=Button},"573":function(e,t,n){},"587":function(e,t,n){"use strict";function isArray(e){return"[object Array]"===toString.call(e)}function isUndefined(e){return"[object Undefined]"===toString.call(e)}function isObject(e){return"[object Object]"===toString.call(e)}function isEmptyObject(e){if(!isObject(e))return!1;for(var t in e)if(!isUndefined(e[t]))return!1;return!0}n.d(t,"a",(function(){return isArray})),n.d(t,"c",(function(){return isObject})),n.d(t,"b",(function(){return isEmptyObject}))},"624":function(e,t,n){var i=n(638),a=n(639),c=n(559),l=n(640);e.exports=function _toConsumableArray(e){return i(e)||a(e)||c(e)||l()},e.exports.default=e.exports,e.exports.__esModule=!0},"638":function(e,t,n){var i=n(112),a=n(560);e.exports=function _arrayWithoutHoles(e){if(i(e))return a(e)},e.exports.default=e.exports,e.exports.__esModule=!0},"639":function(e,t,n){var i=n(40),a=n(113),c=n(114);e.exports=function _iterableToArray(e){if(void 0!==i&&null!=a(e)||null!=e["@@iterator"])return c(e)},e.exports.default=e.exports,e.exports.__esModule=!0},"640":function(e,t){e.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},"704":function(e,t,n){"use strict";n(524),n(543),n(530),n(532),n(705)},"705":function(e,t,n){},"710":function(e,t,n){"use strict";var i=n(109),a=n.n(i),c=n(52),l=n.n(c),r=n(22),o=n.n(r),s=n(520),u=n.n(s),d=n(519),f=n.n(d),p=n(26),b=n.n(p),m=n(169),j=n.n(m),v=n(624),h=n.n(v),g=n(522),O=n.n(g),x=n(523),y=n.n(x),w=n(526),_=n.n(w),k=n(9),C=n.n(k),F=n(0),I=n.n(F),S=n(117),P=n.n(S),z=n(5),N=n.n(z),L=n(30),R=n.n(L),T=n(646),A=n(620),M=n.n(A),E=n(27),D=n.n(E),U=n(16),V=n(43),B=function(){var e=Object(T.a)(M.a.mark((function _callee(e){var t,n,i,a,c,l,r,o,s,u,d,f,p,b,m,j,v;return M.a.wrap((function _callee$(h){for(;;)switch(h.prev=h.next){case 0:if(t=function _loadImage(e,t){return new N.a((function(n){var i=document.createElement("taro-swiper-item-core");i.style.cssText="display:flex;align-items:start;justify-content:center;overflow-y:scroll;";var a=new Image;a.style.maxWidth="100%",a.src=e;var c=document.createElement("div");c.style.cssText="display:flex;align-items:center;justify-content:center;max-width:100%;min-height:100%;",c.appendChild(a),i.appendChild(c),n(i),"function"==typeof t&&a.addEventListener("error",(function(e){t({"errMsg":e.message})}))}))},(n=Object(U.i)(e)).flag){h.next=6;break}return i={"errMsg":"previewImage:fail ".concat(n.msg)},console.error(i.errMsg),h.abrupt("return",N.a.reject(i));case 6:return a=e.urls,c=void 0===a?[]:a,l=e.current,r=void 0===l?"":l,o=e.success,s=e.fail,u=e.complete,d=new V.a({"name":"previewImage","success":o,"fail":s,"complete":u}),(f=document.createElement("div")).classList.add("preview-image"),f.style.cssText="position:fixed;top:0;left:0;z-index:1050;width:100%;height:100%;overflow:hidden;outline:0;background-color:#111;",f.addEventListener("click",(function(){f.remove()})),(p=document.createElement("taro-swiper-core")).full=!0,b=[],h.prev=15,h.next=18,N.a.all(C()(c).call(c,(function(e){return t(e,s)})));case 18:b=h.sent,h.next=24;break;case 21:return h.prev=21,h.t0=h.catch(15),h.abrupt("return",d.fail({"errMsg":h.t0}));case 24:for(m=0;m<b.length;m++)j=b[m],p.appendChild(j);return v=D()(c).call(c,r),p.current=v,f.appendChild(p),document.body.appendChild(f),h.abrupt("return",d.success());case 30:case"end":return h.stop()}}),_callee,null,[[15,21]])})));return function previewImage(t){return e.apply(this,arguments)}}(),K=n(878),q=(Object(U.j)("saveFileToDisk"),Object(U.j)("saveFile"),Object(U.j)("removeSavedFile"),Object(U.j)("openDocument")),H=(Object(U.j)("getSavedFileList"),Object(U.j)("getSavedFileInfo"),Object(U.j)("getFileSystemManager"),Object(U.j)("getFileInfo"),n(63)),J=n(518),W=n(568),$=n(527),X=n(525),Y=n(587),G=n(537),Q=n(534);function sizeStyle(e){return Object(G.a)({"width":Object(Q.a)(e.previewSize),"height":Object(Q.a)(e.previewSize)})}var Z=n(100),ee=n(120),te=n.n(ee),ne=(Object(U.j)("saveVideoToPhotosAlbum"),Object(U.j)("openVideoEditor"),Object(U.j)("getVideoInfo"),Object(U.j)("compressVideo"),Object(U.j)("chooseMedia")),ie=(Object(U.j)("saveImageToPhotosAlbum"),Object(U.j)("previewMedia"),Object(U.j)("compressImage"),Object(U.j)("chooseMessageFile")),ae=n(539);function isImageFile(e){return null!=e.isImage?e.isImage:e.type?"image"===e.type:!!e.url&&Object(X.c)(e.url)}function isVideoFile(e){return null!=e.isVideo?e.isVideo:e.type?"video"===e.type:!!e.url&&Object(X.g)(e.url)}function chooseFile(e){var t=e.accept,n=e.multiple,i=e.capture,a=e.compressed,c=e.maxDuration,l=e.sizeType,r=e.camera,o=e.maxCount;return new N.a((function(e,s){switch(t){case"image":!function chooseImage(e){var t=Object(U.i)(e);if(!t.flag){var n={"errMsg":"chooseImage:fail ".concat(t.msg)};return console.error(n.errMsg),N.a.reject(n)}var i=e.count,a=void 0===i?1:i,c=e.success,l=e.fail,r=e.complete,o=e.imageId,s=void 0===o?"taroChooseImage":o,u=new V.a({"name":"chooseImage","success":c,"fail":l,"complete":r}),d={"tempFilePaths":[],"tempFiles":[]};if(a&&"number"!=typeof a)return d.errMsg=Object(U.c)({"para":"count","correct":"Number","wrong":a}),u.fail(d);var f=document.getElementById(s);if(f)a>1?f.setAttribute("multiple","multiple"):f.removeAttribute("multiple");else{var p=document.createElement("input");p.setAttribute("type","file"),p.setAttribute("id",s),a>1&&p.setAttribute("multiple","multiple"),p.setAttribute("accept","image/*"),p.setAttribute("style","position: fixed; top: -4000px; left: -3000px; z-index: -300;"),document.body.appendChild(p),f=document.getElementById(s)}new N.a((function(e){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),f&&(f.dispatchEvent(t),f.onchange=function(t){var n=t.target;if(n){var i=n.files||[],a=Object(Z.a)(i);a&&b()(a).call(a,(function(e){var t,n,i=new Blob([e],{"type":e.type}),a=te.a.createObjectURL(i);null===(t=d.tempFilePaths)||void 0===t||t.push(a),null===(n=d.tempFiles)||void 0===n||n.push({"path":a,"size":e.size,"type":e.type,"originalFileObj":e})})),u.success(d,e),n.value=""}})}))}({"count":n?Math.min(o,9):1,"sourceType":i||["album","camera"],"sizeType":l||["original","compressed"],"success":function success(t){return e(function formatImage(e){var t,n;return e.tempFiles?C()(t=e.tempFiles).call(t,(function(e){return I()(I()({},Object(ae.f)(e,["path"])),{"type":"image","url":e.path,"thumb":e.path})})):e.tempFilePaths?C()(n=e.tempFilePaths).call(n,(function(e){return{"type":"image","url":e,"thumb":e}})):void 0}(t))},"fail":s});break;case"media":ne({"count":n?Math.min(o,9):1,"sourceType":i||["album","camera"],"maxDuration":c,"sizeType":l||["original","compressed"],"camera":r||"back","success":function success(t){return e(function formatMedia(e){var t;return C()(t=e.tempFiles).call(t,(function(t){return I()(I()({},Object(ae.f)(t,["fileType","thumbTempFilePath","tempFilePath"])),{"type":e.type,"url":t.tempFilePath,"thumb":"video"===e.type?t.thumbTempFilePath:t.tempFilePath})}))}(t))},"fail":s});break;case"video":!function chooseVideo(e){var t=Object(U.i)(e);if(!t.flag){var n={"errMsg":"chooseVideo:fail ".concat(t.msg)};return console.error(n.errMsg),N.a.reject(n)}var i=e.success,a=e.fail,c=e.complete,l=new V.a({"name":"chooseVideo","success":i,"fail":a,"complete":c}),r={"tempFilePath":"","duration":0,"size":0,"height":0,"width":0},o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("multiple","multiple"),o.setAttribute("accept","video/*"),o.setAttribute("style","position: fixed; top: -4000px; left: -3000px; z-index: -300;"),document.body.appendChild(o),new N.a((function(e){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),o.dispatchEvent(t),o.onchange=function(t){var n,i=null===(n=t.target.files)||void 0===n?void 0:n[0],a=new FileReader;a.onload=function(t){var n,i=document.createElement("video"),a=null===(n=t.target)||void 0===n?void 0:n.result;i.preload="metadata",i.src=a,i.onloadedmetadata=function(){return r.tempFilePath=a,r.duration=i.duration,r.size=t.total,r.height=i.videoHeight,r.width=i.videoHeight,l.success(r,e)}},i&&a.readAsDataURL(i)}})).finally((function(){document.body.removeChild(o)}))}({"sourceType":i||["album","camera"],"compressed":a,"maxDuration":c||60,"camera":r||"back","success":function success(t){return e(function formatVideo(e){return[I()(I()({},Object(ae.f)(e,["tempFilePath","thumbTempFilePath","errMsg"])),{"type":"video","url":e.tempFilePath,"thumb":e.thumbTempFilePath})]}(t))},"fail":s});break;default:ie({"count":n?o:1,"type":t,"success":function success(t){return e(function formatFile(e){var t;return C()(t=e.tempFiles).call(t,(function(e){return I()(I()({},Object(ae.f)(e,["path"])),{"url":e.path})}))}(t))},"fail":s})}}))}var ce=n(108),le=["disabled","multiple","uploadText","useBeforeRead","previewSize","name","accept","maxSize","maxCount","deletable","showUpload","previewImage","previewFullImage","imageFit","uploadIcon","capture","compressed","maxDuration","sizeType","camera","onError","onDelete","onBeforeRead","onAfterRead","onOversize","onClickPreview","style","className","children"];function ownKeys(e,t){var n=o()(e);if(u.a){var i=u()(e);t&&(i=R()(i).call(i,(function(t){return f()(e,t).enumerable}))),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n,i=null!=arguments[t]?arguments[t]:{};if(t%2)b()(n=ownKeys(Object(i),!0)).call(n,(function(t){O()(e,t,i[t])}));else if(j.a)a()(e,j()(i));else{var c;b()(c=ownKeys(Object(i))).call(c,(function(t){l()(e,t,f()(i,t))}))}}return e}t.a=function Uploader(e){var t,n=Object(H.useState)({"lists":[],"isInCount":!0}),i=_()(n,2),a=i[0],c=i[1],r=e.disabled,o=e.multiple,s=e.uploadText,u=e.useBeforeRead,d=e.previewSize,f=void 0===d?160:d,p=e.name,b=void 0===p?"":p,m=e.accept,j=void 0===m?"image":m,v=e.maxSize,g=void 0===v?Number.MAX_VALUE:v,O=e.maxCount,x=void 0===O?100:O,w=e.deletable,k=void 0===w||w,F=e.showUpload,S=void 0===F||F,z=e.previewImage,L=void 0===z||z,T=e.previewFullImage,A=void 0===T||T,M=e.imageFit,E=void 0===M?"aspectFill":M,D=e.uploadIcon,U=void 0===D?"photograph":D,V=e.capture,G=e.compressed,Q=e.maxDuration,Z=e.sizeType,ee=e.camera,te=e.onError,ne=e.onDelete,ie=e.onBeforeRead,ae=e.onAfterRead,re=e.onOversize,oe=e.onClickPreview,se=e.style,ue=e.className,de=e.children,fe=y()(e,le),pe=Object(H.useMemo)((function(){return Object(Y.a)(e.fileList)?e.fileList:[]}),[e.fileList]),be=Object(H.useCallback)((function(e){var t=C()(e).call(e,(function(e){return I()(I()({},e),{"isImage":isImageFile(e),"isVideo":isVideoFile(e),"deletable":!Object(X.a)(e.deletable)||e.deletable})}));c((function(e){return _objectSpread(_objectSpread({},e),{},{"lists":t,"isInCount":t.length<x})}))}),[x]),me=Object(H.useCallback)((function(e){return{"name":b,"index":null==e?null==pe?void 0:pe.length:e}}),[null==pe?void 0:pe.length,b]),je=Object(H.useCallback)((function(e){var t=e.detail.file;if(Array.isArray(t)?P()(t).call(t,(function(e){return e.size>g})):t.size>g)return e.detail=I()({"file":t},me()),void(null==re||re(e));e.detail=I()({"file":t},me()),null==ae||ae(e)}),[me,g,ae,re]),ve=Object(H.useCallback)((function(e){var t=e.detail.file,n=!0;u&&(n=new N.a((function(n,i){var a=I()(I()({"file":t},me()),{"callback":function callback(e){e?n():i()}});e.detail=a,null==ie||ie(e)})).catch((function(e){console.log("err: ",e)}))),n&&(Object(X.f)(n)?n.then((function(n){return e.detail={"file":n||t},je(e)})):(e.detail={"file":t},je(e)))}),[je,me,ie,u]),he=Object(H.useCallback)((function(e){r||chooseFile({"accept":j,"multiple":o,"capture":V,"compressed":G,"maxDuration":Q,"sizeType":Z,"camera":ee,"maxCount":x-a.lists.length}).then((function(t){l()(e,"detail",{"value":{"file":o?t:t[0]},"writable":!0}),ve(e)})).catch((function(e){null==te||te(e)}))}),[ve,r,x,o,te,a.lists.length,j,ee,V,G,Q,Z]),ge=Object(H.useCallback)((function(e){var t=e.currentTarget.dataset.index,n=I()(I()({},me(t)),{"file":null==pe?void 0:pe[t],"fileList":pe&&Object(Y.a)(pe)?h()(pe):pe});l()(e,"detail",{"value":n,"writable":!0}),null==ne||ne(e)}),[pe,me,ne]),Oe=Object(H.useCallback)((function(e){var t,n;if(A){var i=e.currentTarget.dataset.index,c=a.lists[i];B({"urls":C()(t=R()(n=a.lists).call(n,(function(e){return isImageFile(e)}))).call(t,(function(e){return e.url})),"current":c.url,"fail":function fail(){Object(K.c)({"title":"预览图片失败","icon":"none"})}})}}),[A,a.lists]),xe=Object(H.useCallback)((function(){if(A);}),[A,a.lists]),ye=Object(H.useCallback)((function(e){var t=e.currentTarget.dataset.index;q({"filePath":a.lists[t].url,"showMenu":!0})}),[a.lists]),we=Object(H.useCallback)((function(e){var t=e.currentTarget.dataset.index,n=a.lists[t];l()(e,"detail",{"value":I()(I()({},n),me(t)),"writable":!0}),null==oe||oe(e)}),[me,oe,a.lists]);return Object(H.useEffect)((function(){be(pe)}),[pe]),Object(ce.jsx)(J.n,_objectSpread(_objectSpread({"className":"van-uploader ".concat(ue),"style":se},fe),{},{"children":Object(ce.jsxs)(J.n,{"className":"van-uploader__wrapper","children":[L&&C()(t=a.lists).call(t,(function(e,t){return Object(ce.jsxs)(J.n,{"className":"van-uploader__preview","data-index":t,"onClick":we,"children":[e.isImage?Object(ce.jsx)(J.f,{"mode":E,"src":e.thumb||e.url,"alt":e.name||"图片"+t,"className":"van-uploader__preview-image","style":sizeStyle({"previewSize":f}),"data-index":t,"onClick":Oe}):e.isVideo?Object(ce.jsx)(J.m,{"src":e.url,"title":e.name||"视频"+t,"poster":e.thumb,"autoplay":e.autoplay,"className":"van-uploader__preview-image","style":sizeStyle({"previewSize":f}),"data-index":t,"onClick":xe}):Object(ce.jsxs)(J.n,{"className":"van-uploader__file","style":sizeStyle({"previewSize":f}),"data-index":t,"onClick":ye,"children":[Object(ce.jsx)($.b,{"name":"description","className":"van-uploader__file-icon"}),Object(ce.jsx)(J.n,{"className":"van-uploader__file-name van-ellipsis","children":e.name||e.url})]}),("uploading"===e.status||"failed"===e.status)&&Object(ce.jsxs)(J.n,{"className":"van-uploader__mask","children":["failed"===e.status?Object(ce.jsx)($.b,{"name":"close","className":"van-uploader__mask-icon"}):Object(ce.jsx)(W.b,{"className":"van-uploader__loading"}),e.message&&Object(ce.jsx)(J.k,{"className":"van-uploader__mask-message","children":e.message})]}),k&&e.deletable&&Object(ce.jsx)(J.n,{"data-index":t,"className":"van-uploader__preview-delete","onClick":ge,"children":Object(ce.jsx)($.b,{"name":"cross","className":"van-uploader__preview-delete-icon"})})]},e.index||t)})),a.isInCount&&Object(ce.jsxs)(J.a,{"children":[Object(ce.jsx)(J.n,{"className":"van-uploader__slot","onClick":he,"children":de}),S&&Object(ce.jsxs)(J.n,{"className":"van-uploader__upload "+(r?"van-uploader__upload--disabled":""),"style":sizeStyle({"previewSize":f}),"onClick":he,"children":[Object(ce.jsx)($.b,{"name":U,"className":"van-uploader__upload-icon"}),s&&Object(ce.jsx)(J.k,{"className":"van-uploader__upload-text","children":s})]})]})]})}))}},"785":function(e,t,n){},"889":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));n(569);var i=n(572),a=(n(704),n(710)),c=n(37),l=n(38),r=n(170),o=n(65),s=n(64),u=n(88),d=n(27),f=n.n(d),p=n(6),b=n.n(p),m=n(140),j=n.n(m),v=n(116),h=n.n(v),g=n(9),O=n.n(g),x=n(5),y=n.n(x),w=n(63),_=n(878),k=n(16),C=Object(l.a)((function cloud(){Object(c.a)(this,cloud),this.init=Object(k.j)("cloud.init"),this.CloudID=Object(k.j)("cloud.CloudID"),this.callFunction=Object(k.j)("cloud.callFunction"),this.uploadFile=Object(k.j)("cloud.uploadFile"),this.downloadFile=Object(k.j)("cloud.downloadFile"),this.getTempFileURL=Object(k.j)("cloud.getTempFileURL"),this.deleteFile=Object(k.j)("cloud.deleteFile"),this.database=Object(k.j)("cloud.database"),this.callContainer=Object(k.j)("cloud.callContainer")})),F=n(518),I=n(531),S=n(528),P=(n(785),n(108)),z=function(e){Object(o.a)(Index,e);var t=Object(s.a)(Index);function Index(){var e;return Object(c.a)(this,Index),e=t.call(this),Object(u.a)(Object(r.a)(e),"state",{"fileList1":[],"fileList2":[{"url":"https://img.yzcdn.cn/vant/leaf.jpg"},{"url":"https://img.yzcdn.cn/vant/tree.jpg"}],"fileList3":[{"url":"https://img.yzcdn.cn/vant/sand.jpg"}],"fileList4":[],"fileList5":[],"fileList6":[],"cloudPath":[],"fileList7":[],"fileList8":[{"url":"https://img.yzcdn.cn/vant/leaf.jpg","status":"uploading","message":"上传中"},{"url":"https://img.yzcdn.cn/vant/tree.jpg","status":"failed","message":"上传失败"}]}),Object(u.a)(Object(r.a)(e),"beforeRead",(function(e){var t,n=e.detail,i=n.file,a=n.callback,c=void 0===a?function(){}:a;if(i&&i.url&&f()(t=i.url).call(t,"jpeg")<0)return Object(_.c)({"title":"请选择jpg图片上传","icon":"none"}),void c(!1);c(!0)})),Object(u.a)(Object(r.a)(e),"afterRead",(function(t){var n=t.detail,i=n.file,a=n.name;console.log("...",i,a);var c=e.state["fileList".concat(a)];e.setState(Object(u.a)({},"fileList".concat(a),b()(c).call(c,i)))})),Object(u.a)(Object(r.a)(e),"oversize",(function(){Object(_.c)({"title":"文件超出大小限制","icon":"none"})})),Object(u.a)(Object(r.a)(e),"delete",(function(t){console.log("....",t);var n=t.detail,i=n.index,a=n.name,c=e.state["fileList".concat(a)],l=JSON.parse(j()(c));h()(l).call(l,i,1),e.setState(Object(u.a)({},"fileList".concat(a),l))})),Object(u.a)(Object(r.a)(e),"clickPreview",(function(){})),Object(u.a)(Object(r.a)(e),"uploadToCloud",(function(){C.init();var t=e.state.fileList6,n=void 0===t?[]:t;if(n.length){var i=O()(n).call(n,(function(t,n){return e.uploadFilePromise("my-photo".concat(n,".png"),t)}));y.a.all(i).then((function(t){Object(_.c)({"title":"上传成功","icon":"none"});var n=O()(t).call(t,(function(e){return{"url":e.fileID}}));e.setState({"cloudPath":t,"fileList6":n})})).catch((function(e){Object(_.c)({"title":"上传失败","icon":"none"}),console.log(e)}))}else Object(_.c)({"title":"请选择图片","icon":"none"})})),Object(u.a)(Object(r.a)(e),"uploadFilePromise",(function(e,t){return C.uploadFile({"cloudPath":e,"filePath":t.path})})),e}return Object(l.a)(Index,[{"key":"render","value":function render(){var e=this.state,t=e.fileList1,n=e.fileList7,c=e.fileList2,l=e.fileList8,r=e.fileList3,o=e.fileList4,s=e.fileList5,u=e.fileList6;return Object(P.jsx)(I.a,{"title":"Uploader 文件上传","className":"page-uploader","children":Object(P.jsxs)(P.Fragment,{"children":[Object(P.jsx)(S.a,{"title":"基础用法","padding":!0,"children":Object(P.jsx)(a.a,{"name":"1","fileList":t,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(P.jsx)(S.a,{"title":"上传视频","padding":!0,"children":Object(P.jsx)(a.a,{"name":"7","accept":"video","fileList":n,"onAfterRead":this.afterRead,"onDelete":this.delete})}),Object(P.jsx)(S.a,{"title":"文件预览","padding":!0,"children":Object(P.jsx)(a.a,{"name":"2","fileList":c,"multiple":!0,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(P.jsx)(S.a,{"title":"隐藏上传按钮","padding":!0,"children":Object(P.jsx)(a.a,{"name":"2","fileList":c,"multiple":!0,"showUpload":!1,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(P.jsx)(S.a,{"title":"上传状态","padding":!0,"children":Object(P.jsx)(a.a,{"name":"8","fileList":l,"multiple":!0,"maxCount":2,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(P.jsx)(S.a,{"title":"限制上传数量","padding":!0,"children":Object(P.jsx)(a.a,{"name":"3","fileList":r,"multiple":!0,"maxCount":2,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(P.jsx)(S.a,{"title":"自定义上传样式","padding":!0,"children":Object(P.jsx)(a.a,{"name":"4","fileList":o,"maxCount":2,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview,"children":Object(P.jsx)(i.b,{"icon":"photo","type":"primary","children":"上传图片"})})}),Object(P.jsx)(S.a,{"title":"上传前校验","padding":!0,"children":Object(P.jsx)(a.a,{"name":"5","fileList":s,"onBeforeRead":this.beforeRead,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview,"useBeforeRead":!0})}),Object(P.jsxs)(S.a,{"title":"云存储上传","padding":!0,"children":[Object(P.jsx)(a.a,{"name":"6","fileList":u,"onBeforeRead":this.beforeRead,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview,"useBeforeRead":!0}),Object(P.jsx)(F.n,{"className":"demo-margin-bottom","children":Object(P.jsx)(i.b,{"type":"primary","onClick":this.uploadToCloud,"children":"上传至云存储"})})]})]})})}}]),Index}(w.Component)}}]);