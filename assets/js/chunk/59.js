(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"525":function(e,t,n){"use strict";n.d(t,"e",(function(){return isPlainObject})),n.d(t,"f",(function(){return isPromise})),n.d(t,"b",(function(){return isDef})),n.d(t,"d",(function(){return isObj})),n.d(t,"a",(function(){return isBoolean})),n.d(t,"c",(function(){return isImageUrl})),n.d(t,"g",(function(){return isVideoUrl}));var r=n(171),c=n.n(r);function isFunction(e){return"function"==typeof e}function isPlainObject(e){return null!==e&&"object"===c()(e)&&!Array.isArray(e)}function isPromise(e){return isPlainObject(e)&&isFunction(e.then)&&isFunction(e.catch)}function isDef(e){return null!=e}function isObj(e){var t=c()(e);return null!==e&&("object"===t||"function"===t)}function isBoolean(e){return"boolean"==typeof e}var i=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i,a=/\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv)/i;function isImageUrl(e){return i.test(e)}function isVideoUrl(e){return a.test(e)}},"528":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(37),c=n(38),i=n(65),a=n(64),u=n(518),o=n(63),l=(n(529),n(108)),s=function(e){Object(i.a)(Index,e);var t=Object(a.a)(Index);function Index(){return Object(r.a)(this,Index),t.call(this)}return Object(c.a)(Index,[{"key":"render","value":function render(){var e=this.props,t=e.padding,n=e.title,r=e.card;return Object(l.jsxs)(u.n,{"className":"custom-class demo-block van-clearfix "+(t?"demo-block--padding":""),"children":[n&&Object(l.jsx)(u.n,{"className":"demo-block__title","children":n}),r?Object(l.jsx)(u.n,{"className":"demo-block__card","children":this.props.children}):this.props.children]})}}]),Index}(o.Component)},"529":function(e,t,n){},"539":function(e,t,n){"use strict";n.d(t,"g",(function(){return range})),n.d(t,"d",(function(){return getSystemInfoSync})),n.d(t,"a",(function(){return addUnit})),n.d(t,"h",(function(){return requestAnimationFrame})),n.d(t,"f",(function(){return pickExclude})),n.d(t,"c",(function(){return getRect})),n.d(t,"b",(function(){return getAllRect})),n.d(t,"i",(function(){return toPromise}));var r,c=n(139),i=n.n(c),a=n(22),u=n.n(a),o=n(15),l=n.n(o),s=n(5),f=n.n(s),d=(n(517),n(835)),b=(n(838),n(87)),v=n(886),j=(n(75),n(525));n(544);function range(e,t,n){return Math.min(Math.max(e,t),n)}function getSystemInfoSync(){return null==r&&(r=Object(d.a)()),r}function addUnit(e){if(Object(j.b)(e))return/^-?\d+(\.\d+)?$/.test(""+e)?b.a.pxTransform(e):e}function requestAnimationFrame(e){return"devtools"===getSystemInfoSync().platform?setTimeout((function(){e()}),33.333333333333336):Object(v.a)().selectViewport().boundingClientRect().exec((function(){e()}))}function pickExclude(e,t){var n;return Object(j.e)(e)?i()(n=u()(e)).call(n,(function(n,r){return l()(t).call(t,r)||(n[r]=e[r]),n}),{}):{}}function getRect(e,t){return new f.a((function(n){var r=Object(v.a)();e&&(r=r.in(e)),r.select(t).boundingClientRect().exec((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(e[0])}))}))}function getAllRect(e,t){return new f.a((function(n){var r=Object(v.a)();e&&(r=r.in(e)),r.selectAll(t).boundingClientRect().exec((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n(e[0])}))}))}function toPromise(e){return Object(j.f)(e)?e:f.a.resolve(e)}n.d(t,"e",(function(){return j.b}))},"544":function(e,t,n){"use strict";n.d(t,"a",(function(){return canIUseModel})),n.d(t,"b",(function(){return canIUseNextTick}));var r,c=n(110),i=n.n(c),a=n(835),u=n(836);n(837);function gte(e){return function compareVersion(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var c=i()(e[r],10),a=i()(t[r],10);if(c>a)return 1;if(c<a)return-1}return 0}(function getSystemInfoSync(){return null==r&&(r=Object(a.a)()),r}().SDKVersion,e)>=0}function canIUseModel(){return gte("2.9.3")}function canIUseNextTick(){return Object(u.a)("nextTick")}},"569":function(e,t,n){"use strict";n(524),n(543),n(530),n(532),n(573)},"792":function(e,t,n){},"793":function(e,t,n){"use strict";(function(e){var r=n(109),c=n.n(r),i=n(52),a=n.n(i),u=n(520),o=n.n(u),l=n(30),s=n.n(l),f=n(519),d=n.n(f),b=n(26),v=n.n(b),j=n(169),h=n.n(j),p=n(522),x=n.n(p),O=n(523),g=n.n(O),m=n(526),y=n.n(m),S=n(670),C=n.n(S),k=n(5),w=n.n(k),I=n(9),_=n.n(I),V=n(36),M=n.n(V),A=n(22),T=n.n(A),L=n(175),R=n.n(L),N=n(87),P=n(856),F=(n(886),n(63)),E=n(518),U=n(3),z=(n(539),n(525)),B=(n(794),n(108)),W=["text","lineCap","value","speed","size","fill","layerColor","color","type","strokeWidth","clockwise","style","className","children"];function ownKeys(e,t){var n=T()(e);if(o.a){var r=o()(e);t&&(r=s()(r).call(r,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)v()(n=ownKeys(Object(r),!0)).call(n,(function(t){x()(e,t,r[t])}));else if(h.a)c()(e,h()(r));else{var i;v()(i=ownKeys(Object(r))).call(i,(function(t){a()(e,t,d()(r,t))}))}}return e}var G=2*Math.PI,J=-Math.PI/2,K=0;t.a=function Circle(t){var n=Object(F.useState)({"ready":!1,"hoverColor":"","unitag":"van-circle"}),r=y()(n,2),c=r[0],i=r[1],a=Object(F.useRef)({"inited":!1,"currentValue":void 0,"interval":void 0}),u=t.text,o=t.lineCap,l=void 0===o?"round":o,s=t.value,f=void 0===s?0:s,d=t.speed,b=void 0===d?50:d,v=t.size,j=void 0===v?100:v,h=C()(t),p=t.layerColor,x=void 0===p?"#ffffff":p,O=t.color,m=void 0===O?"#1989fa":O,S=t.type,k=void 0===S?"":S,I=t.strokeWidth,V=void 0===I?4:I,A=t.clockwise,L=void 0===A||A,q=t.style,D=t.className,Y=t.children,H=g()(t,W);Object(F.useEffect)((function(){i((function(e){return _objectSpread(_objectSpread({},e),{},{"unitag":"van-circle_uni_".concat(K++)})}))}),[]),N.a.useReady((function(){i((function(e){return _objectSpread(_objectSpread({},e),{},{"ready":!0})}))})),Object(F.useEffect)((function(){"react"===e.env.LIBRARY_ENV&&setTimeout((function(){i((function(e){return _objectSpread(_objectSpread({},e),{},{"ready":!0})}))}),100)}),[]);var X=Object(F.useCallback)((function(){"react"===e.env.LIBRARY_ENV&&(U.a.page={"path":"page-".concat(c.unitag)});var t=null;try{t=Object(P.a)(c.unitag)}catch(e){}return w.a.resolve(t)}),[j,k,c.unitag]),$=Object(F.useCallback)((function(e,t,n,r,c){var i=j/2,a=i-V/2;e.setStrokeStyle(t),e.setLineWidth(V),e.setLineCap(l),e.beginPath(),e.arc(i,i,a,n,r,!L),e.stroke(),c&&(e.setFillStyle(c),C()(e).call(e))}),[L,l,j,V]),Q=Object(F.useCallback)((function(e){$(e,x,0,G,h)}),[h,x,$]),Z=Object(F.useCallback)((function(e,t){var n=G*(t/100),r=L?J+n:3*Math.PI-(J+n);$(e,c.hoverColor,J,r)}),[L,$,c.hoverColor]),ee=Object(F.useCallback)((function(e){X().then((function(t){if(t){t.clearRect(0,0,j,j),Q(t);var n=function format(e){return Math.min(Math.max(e,0),100)}(e);0!==n&&Z(t,n),t.draw()}}))}),[X,Z,Q,j]),te=function clearMockInterval(){a.current.interval&&(clearTimeout(a.current.interval),a.current.interval=null)},ne=Object(F.useCallback)((function(){if(b<=0||b>1e3)ee(f);else{te(),a.current.currentValue=a.current.currentValue||0;!function run(){a.current.interval=setTimeout((function(){a.current.currentValue!==f?(Math.abs(a.current.currentValue-f)<1?a.current.currentValue=f:a.current.currentValue<f?a.current.currentValue+=1:a.current.currentValue-=1,ee(a.current.currentValue),run()):te()}),1e3/b)}()}}),[ee,b,f]);return Object(F.useEffect)((function(){c.ready&&ne()}),[ne,c.ready,f]),Object(F.useEffect)((function(){c.ready&&ee(a.current.currentValue)}),[c.ready,j]),Object(F.useEffect)((function(){c.ready&&function setHoverColor(){if(Object(z.d)(m)){var e=m;return X().then((function(t){if(t){var n,r,c=t.createLinearGradient(j,0,0,0);_()(n=M()(r=T()(m)).call(r,(function(e,t){return R()(e)-R()(t)}))).call(n,(function(t){return c.addColorStop(R()(t)/100,e[t])})),i((function(e){return _objectSpread(_objectSpread({},e),{},{"hoverColor":c})}))}}))}return i((function(e){return _objectSpread(_objectSpread({},e),{},{"hoverColor":m})})),w.a.resolve()}().then((function(){ee(a.current.currentValue)}))}),[c.ready,m]),Object(F.useEffect)((function(){return function(){te()}}),[c.ready]),Object(B.jsxs)(E.n,_objectSpread(_objectSpread({"id":"page-".concat(c.unitag),"className":"van-circle ".concat(D),"style":q},H),{},{"children":[Object(B.jsx)(E.c,{"width":j,"height":j,"nativeProps":{"width":j,"height":j},"className":"van-circle__canvas ".concat(c.unitag),"type":k,"style":"width: "+"".concat(j,"px")+";height:"+"".concat(j,"px"),"id":c.unitag,"canvasId":c.unitag}),u?Object(B.jsx)(E.d,{"className":"van-circle__text","children":u}):Object(B.jsx)(E.n,{"className":"van-circle__text","children":Y})]}))}}).call(this,n(227))},"794":function(e,t,n){"use strict";n.d(t,"a",(function(){return adaptor}));var r=n(0),c=n.n(r);function adaptor(e){return c()(e,{"setStrokeStyle":function setStrokeStyle(t){e.strokeStyle=t},"setLineWidth":function setLineWidth(t){e.lineWidth=t},"setLineCap":function setLineCap(t){e.lineCap=t},"setFillStyle":function setFillStyle(t){e.fillStyle=t},"setFontSize":function setFontSize(t){e.font=String(t)},"setGlobalAlpha":function setGlobalAlpha(t){e.globalAlpha=t},"setLineJoin":function setLineJoin(t){e.lineJoin=t},"setTextAlign":function setTextAlign(t){e.textAlign=t},"setMiterLimit":function setMiterLimit(t){e.miterLimit=t},"setShadow":function setShadow(t,n,r,c){e.shadowOffsetX=t,e.shadowOffsetY=n,e.shadowBlur=r,e.shadowColor=c},"setTextBaseline":function setTextBaseline(t){e.textBaseline=t},"createCircularGradient":function createCircularGradient(){},"draw":function draw(){}})}},"795":function(e,t,n){},"856":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16),c=n(718),i=function createCanvasContext(e,t){var n=Object(r.b)(t),i=null==n?void 0:n.querySelector('canvas[canvas-id="'.concat(e,'"]')),a=null==i?void 0:i.getContext("2d"),u=new c.a(i,a);return a?(u.canvas=i,u.ctx=a,u):u}},"892":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));n(569);var r=n(572),c=(n(524),n(792),n(793)),i=n(37),a=n(38),u=n(170),o=n(65),l=n(64),s=n(88),f=n(175),d=n.n(f),b=n(63),v=n(531),j=n(528),h=(n(795),n(108)),p=function format(e){return Math.min(Math.max(e,0),100)},x=function(e){Object(o.a)(Index,e);var t=Object(l.a)(Index);function Index(){var e;return Object(i.a)(this,Index),e=t.call(this),Object(s.a)(Object(u.a)(e),"state",{"value":25,"gradientColor":{"0%":"#ffd01e","100%":"#ee0a24"}}),Object(s.a)(Object(u.a)(e),"run",(function(t){var n=d()(t.currentTarget.dataset.step);e.setState({"value":p(e.state.value+n)})})),e}return Object(a.a)(Index,[{"key":"render","value":function render(){var e=this,t=this.state,n=t.value,i=t.gradientColor;return Object(h.jsx)(v.a,{"title":"Circle 进度条","children":Object(h.jsxs)(h.Fragment,{"children":[Object(h.jsx)(j.a,{"title":"demo","children":Object(h.jsx)(c.a,{"value":n,"size":100,"strokeWidth":8,"text":"颜色定制","color":"#00ffff"})}),Object(h.jsx)(j.a,{"title":"基础用法","children":Object(h.jsx)(c.a,{"type":"2d","value":n,"text":n+"%"})}),Object(h.jsxs)(j.a,{"title":"样式定制","children":[Object(h.jsx)(c.a,{"value":n,"strokeWidth":6,"text":"宽度定制"}),Object(h.jsx)(c.a,{"value":n,"layerColor":"#eee","color":"#ee0a24","text":"颜色定制"}),Object(h.jsx)(c.a,{"type":"2d","value":n,"color":i,"text":"渐变色"}),Object(h.jsx)(c.a,{"value":n,"color":"#07c160","clockwise":!1,"text":"逆时针"}),Object(h.jsx)(c.a,{"value":n,"size":"120","text":"大小定制"})]}),Object(h.jsx)(r.b,{"type":"primary","size":"small","onClick":function onClick(t){e.run({"detail":t.detail,"currentTarget":{"dataset":{"step":"10"}},"target":{"dataset":{"step":"10"}}})},"children":"增加"}),Object(h.jsx)(r.b,{"type":"danger","size":"small","onClick":function onClick(t){e.run({"detail":t.detail,"currentTarget":{"dataset":{"step":"-10"}},"target":{"dataset":{"step":"-10"}}})},"children":"减少"})]})})}}]),Index}(b.Component)}}]);