(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"282":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return Page}));var n=i(281),r=i(280),o=i(31),a=i(27),c=(i(283),i(44));function Page(t){var i=t.title,l=t.children,s=o.default.useRouter();return Object(a.useEffect)((function(){"react"===e.env.LIBRARY_ENV?document.body.scrollTop=document.documentElement.scrollTop=0:Object(o.pageScrollTo)({"scrollTop":0})}),[s.path]),Object(c.jsxs)(r.View,{"className":"demo-page","children":[Object(c.jsxs)(r.View,{"className":"demo-nav","children":[Object(c.jsx)(n.Icon,{"name":"arrow-left","className":"demo-nav__back","onClick":function onClick(){return o.default.navigateBack()}}),Object(c.jsxs)(r.View,{"className":"demo-nav__title","children":[i," "]})]}),l]})}}).call(this,i(121))},"283":function(e,t,i){},"284":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i(3),r=i.n(n),o=i(6),a=i.n(o),c=i(16),l=i.n(c),s=i(17),d=i.n(s),f=i(280),u=i(27),h=(i(285),i(44)),p=function(e){l()(Index,e);var t=d()(Index);function Index(){return r()(this,Index),t.call(this)}return a()(Index,[{"key":"render","value":function render(){var e=this.props,t=e.padding,i=e.title,n=e.card;return Object(h.jsxs)(f.View,{"className":"custom-class demo-block van-clearfix "+(t?"demo-block--padding":""),"children":[i&&Object(h.jsx)(f.View,{"className":"demo-block__title","children":i}),n?Object(h.jsx)(f.View,{"className":"demo-block__card","children":this.props.children}):this.props.children]})}}]),Index}(u.Component)},"285":function(e,t,i){},"288":function(e,t,i){var n=i(18),r=i(15),o=i(76),a=r("species");e.exports=function(e){return o>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{"foo":1}},1!==t[e](Boolean).foo}))}},"291":function(e,t,i){"use strict";var n=i(35),r=i(301).map;n({"target":"Array","proto":!0,"forced":!i(288)("map")},{"map":function map(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"305":function(e,t,i){"use strict";var n=i(78),r=i(32),o=i(57);e.exports=function(e,t,i){var a=n(t);a in e?r.f(e,a,o(0,i)):e[a]=i}},"311":function(e,t,i){"use strict";var n=i(35),r=i(7),o=i(18),a=i(317),c=i(28),l=i(45),s=i(77),d=i(305),f=i(318),u=i(288),h=i(15),p=i(76),j=h("isConcatSpreadable"),m=r.TypeError,v=p>=51||!o((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),x=u("concat"),isConcatSpreadable=function(e){if(!c(e))return!1;var t=e[j];return void 0!==t?!!t:a(e)};n({"target":"Array","proto":!0,"forced":!v||!x},{"concat":function concat(e){var t,i,n,r,o,a=l(this),c=f(a,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(isConcatSpreadable(o=-1===t?a:arguments[t])){if(u+(r=s(o))>9007199254740991)throw m("Maximum allowed index exceeded");for(i=0;i<r;i++,u++)i in o&&d(c,u,o[i])}else{if(u>=9007199254740991)throw m("Maximum allowed index exceeded");d(c,u++,o)}return c.length=u,c}})},"386":function(e,t,i){"use strict";var n=i(35),r=i(12),o=i(81).indexOf,a=i(362),c=r([].indexOf),l=!!c&&1/c([1],1,-0)<0,s=a("indexOf");n({"target":"Array","proto":!0,"forced":l||!s},{"indexOf":function indexOf(e){var t=arguments.length>1?arguments[1]:void 0;return l?c(this,e,t)||0:o(this,e,t)}})},"387":function(e,t,i){"use strict";var n=i(35),r=i(7),o=i(125),a=i(46),c=i(77),l=i(45),s=i(318),d=i(305),f=i(288)("splice"),u=r.TypeError,h=Math.max,p=Math.min;n({"target":"Array","proto":!0,"forced":!f},{"splice":function splice(e,t){var i,n,r,f,j,m,v=l(this),x=c(v),b=o(e,x),g=arguments.length;if(0===g?i=n=0:1===g?(i=0,n=x-b):(i=g-2,n=p(h(a(t),0),x-b)),x+i-n>9007199254740991)throw u("Maximum allowed length exceeded");for(r=s(v,n),f=0;f<n;f++)(j=b+f)in v&&d(r,f,v[j]);if(r.length=n,i<n){for(f=b;f<x-n;f++)m=f+i,(j=f+n)in v?v[m]=v[j]:delete v[m];for(f=x;f>x-n+i;f--)delete v[f-1]}else if(i>n)for(f=x-n;f>b;f--)m=f+i-1,(j=f+n-1)in v?v[m]=v[j]:delete v[m];for(f=0;f<i;f++)v[f+b]=arguments[f+2];return v.length=x-n+i,r}})},"725":function(e,t,i){},"777":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return w}));var n=i(3),r=i.n(n),o=i(6),a=i.n(o),c=i(24),l=i.n(c),s=i(16),d=i.n(s),f=i(17),u=i.n(f),h=i(9),p=i.n(h),j=(i(386),i(311),i(387),i(291),i(83),i(123),i(126),i(135),i(128),i(27)),m=i(31),v=i(280),x=i(281),b=i(282),g=i(284),O=(i(725),i(44)),w=function(e){d()(Index,e);var t=u()(Index);function Index(){var e;return r()(this,Index),e=t.call(this),p()(l()(e),"state",{"fileList1":[],"fileList2":[{"url":"https://img.yzcdn.cn/vant/leaf.jpg"},{"url":"https://img.yzcdn.cn/vant/tree.jpg"}],"fileList3":[{"url":"https://img.yzcdn.cn/vant/sand.jpg"}],"fileList4":[],"fileList5":[],"fileList6":[],"cloudPath":[],"fileList7":[],"fileList8":[{"url":"https://img.yzcdn.cn/vant/leaf.jpg","status":"uploading","message":"上传中"},{"url":"https://img.yzcdn.cn/vant/tree.jpg","status":"failed","message":"上传失败"}]}),p()(l()(e),"beforeRead",(function(e){var t=e.detail,i=t.file,n=t.callback,r=void 0===n?function(){}:n;if(i&&i.url&&i.url.indexOf("jpeg")<0)return Object(m.showToast)({"title":"请选择jpg图片上传","icon":"none"}),void r(!1);r(!0)})),p()(l()(e),"afterRead",(function(t){var i=t.detail,n=i.file,r=i.name;console.log(JSON.stringify(n,null,2));var o=e.state["fileList".concat(r)];e.setState(p()({},"fileList".concat(r),o.concat(n)))})),p()(l()(e),"oversize",(function(){Object(m.showToast)({"title":"文件超出大小限制","icon":"none"})})),p()(l()(e),"delete",(function(t){var i=t.detail,n=i.index,r=i.name,o=e.state["fileList".concat(r)],a=JSON.parse(JSON.stringify(o));a.splice(n,1),e.setState(p()({},"fileList".concat(r),a))})),p()(l()(e),"clickPreview",(function(){})),p()(l()(e),"uploadToCloud",(function(){m.default.cloud.init();var t=e.state.fileList6,i=void 0===t?[]:t;if(i.length){var n=i.map((function(t,i){return e.uploadFilePromise("my-photo".concat(i,".png"),t)}));Promise.all(n).then((function(t){Object(m.showToast)({"title":"上传成功","icon":"none"});var i=t.map((function(e){return{"url":e.fileID}}));e.setState({"cloudPath":t,"fileList6":i})})).catch((function(e){Object(m.showToast)({"title":"上传失败","icon":"none"}),console.log(e)}))}else Object(m.showToast)({"title":"请选择图片","icon":"none"})})),p()(l()(e),"uploadFilePromise",(function(e,t){return m.default.cloud.uploadFile({"cloudPath":e,"filePath":t.path})})),e}return a()(Index,[{"key":"render","value":function render(){var e=this.state,t=e.fileList1,i=e.fileList7,n=e.fileList2,r=e.fileList8,o=e.fileList3,a=e.fileList4,c=e.fileList5,l=e.fileList6;return Object(O.jsx)(b.a,{"title":"Uploader 文件上传","children":Object(O.jsxs)(O.Fragment,{"children":[Object(O.jsx)(g.a,{"title":"基础用法","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"1","fileList":t,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(O.jsx)(g.a,{"title":"上传视频","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"7","accept":"video","fileList":i,"onAfterRead":this.afterRead,"onDelete":this.delete})}),Object(O.jsx)(g.a,{"title":"文件预览","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"2","fileList":n,"multiple":!0,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(O.jsx)(g.a,{"title":"隐藏上传按钮","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"2","fileList":n,"multiple":!0,"showUpload":!1,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(O.jsx)(g.a,{"title":"上传状态","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"8","fileList":r,"multiple":!0,"maxCount":2,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(O.jsx)(g.a,{"title":"限制上传数量","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"3","fileList":o,"multiple":!0,"maxCount":2,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview})}),Object(O.jsx)(g.a,{"title":"自定义上传样式","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"4","fileList":a,"maxCount":2,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview,"children":Object(O.jsx)(x.Button,{"icon":"photo","type":"primary","children":"上传图片"})})}),Object(O.jsx)(g.a,{"title":"上传前校验","padding":!0,"children":Object(O.jsx)(x.Uploader,{"name":"5","fileList":c,"onBeforeRead":this.beforeRead,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview,"useBeforeRead":!0})}),Object(O.jsxs)(g.a,{"title":"云存储上传","padding":!0,"children":[Object(O.jsx)(x.Uploader,{"name":"6","fileList":l,"onBeforeRead":this.beforeRead,"onAfterRead":this.afterRead,"onDelete":this.delete,"onClickPreview":this.clickPreview,"useBeforeRead":!0}),Object(O.jsx)(v.View,{"className":"demo-margin-bottom","children":Object(O.jsx)(x.Button,{"type":"primary","onClick":this.uploadToCloud,"children":"上传至云存储"})})]})]})})}}]),Index}(j.Component)}}]);